
# Array 배열
  - 여러 개체 값을 순차적으로 나열한 자료 구조
  - 배열 내 값을 요소(element)라고 하며, 배열 요소는 index로 접근
  - 대표 속성 및 메서드
    - 배열 크기 및 배열 확인 : `Array.length`, `Array.isArray()`
    - 배열 추가/삭제 : 
      - `Array.push()`
      - `Array.pop()`
      - `Array.shift()`
      - `Array.unshift()`
      - `Array.slice()`
      - `Array.splice()`
    - 배열 탐색
      - `Array.indexOf()`
      - `Array.lastIndexOf()`
      - `Array.includes()`
    - 배열 변형(callback 미사용)
      - `Array.sort()`
      - `Array.reverse()`
      - `Array.join()`




### 배열 선언
  - `new Array()` 혹은 `[]`을 통해 선언하며, 사이즈 혹은 값을 입력하여 초기화 가능
    ```javascript
    let arr = new Array(10);  // [empty * 10]

    let arr2 = [];
    console.log(arr2)         // []
    console.log(arr2.length)  // 0

    arr2.length = 4;
    console.log(arr2)         // [empty * 4]
    console.log(arr2.length)  // 4

    let f = ['apple','orange','melon'];
    console.log(f[0]); // apple

    f[0] = 'banana';   // 요소 직접 수정 가능
    console.log(f[0]); // banana
    ```


### 배열의 실체
  - javascript에서는 다른 언어에서의 배열과 달리 Hash 기반의 객체 (key-value 기반)
  - 메모리가 연속적인 밀집 배열(dense array)가 아닌 `비연속적인 희소 배열(sparse array)`이다.
  ```javascript
  let nums = [];
  nums.push('one');
  console.log(nums);        //['one']

  nums['once']  = 'once';
  console.log(nums);        //[ 'one', once : 'once' ]
  console.log(nums.length)  // 1 (배열 요소만 체크)

  console.log(Object.getOwnPropertyDescriptors(nums));
  //{ '0': {value:'one', writable:true, enumerable: true, configurable: true},
  //  length: {value: 2, writable:true, enumerable: true, configurable: true},
  //  once : {value: 'once', writable:true, enumerable: true, configurable: true}}
  ```


### 배열 타입 확인 및 요소 삭제
  - 배열 확인 : `Array.isArray()`
    ```javascript
    let n = 123;
    let s = '123';
    let f = [1,2,3];
    console.log(Array.isArray(n)); // false
    console.log(Array.isArray(s)); // false
    console.log(Array.isArray(f)); // true
    ```
  
  - 배열 요소 직접 삭제
    - `delete array[index]` : 삭제해도 배열 사이즈가 그대로이므로 잘 사용하지 않는다.
    ```javascript
    let f = [1,2,3];
    
    delete f[0];
    console.log(f);  // [empty, 2,3]
    console.log(f.length);  // 3
    ```


## 배열 조작

### 1. 배열 추가/삭제
  - 배열 추가 : `Array.push(element)` : 배열 끝에 요소 추가
  - 배열 추가 : `Array.unshift(element)` : 배열 시작에 요소 추가
  - 배열 삭제 : `Array.pop()` : 배열 끝 요소 반환 후 삭제
  - 배열 삭제 : `Array.shift()` : 배열 시작 요소 반환 후 삭제
  ```javascript
  let arr = [1,2,3];
  arr.push(4);
  console.log(arr);   // [1,2,3,4]

  console.log(arr.pop()); // 4
  console.log(arr);   // [1,2,3]

  // ==============================

  arr.unshift(0);
  console.log(arr);   // [0,1,2,3]
  
  console.log(arr.shift());   // 0
  console.log(arr);   // [1,2,3]
  ```

### 2. Array.splice()
  - `Array.splice(index [,deleteCount, elem1, ... elemN])`
    - **원본 데이터를 변경시킨다.**
    - Array.splice(1) : index 1부터 이후 모든 요소 삭제   (삭제 요소들 배열로 반환)
    - Array.splice(1,1) : index 1부터 1개 요소 삭제       (삭제 요소들 배열로 반환)
    - Array.splice(1,1, "mango", "kiwi") : index 1부터 1개 요소와 "mango", "kiwi" 변경 (삭제 요소들 배열로 반환)
    
    ```javascript
    let f = [1,2,3];

    console.log(f.splice(1));     // [2,3]
    console.log(f);               // [1]

    f = [1,2,3];
    console.log(f.splice(1,1));   // [2]
    console.log(f)                // [1, 3]

    f = [1,2,3];
    console.log(f.splice(1,1,'hi','bye'));    // [2]
    console.log(f);                           // [1,3,'hi','bye']
    ```

### 3. Array.slice()
  - **원본 데이터를 변경시키지 않는다.**
  - `Array.slice([start],[end])`
    ```javascript
    let f = [1,2,3];

    console.log(f.slice(1));  // [2,3]    (index 1 이후의 값 반환)
    console.log(f);           // [1,2,3]

    console.log(f.slice(1,2)); // [2] ( 1 <= i < 2 인 index의 값)
    console.log(f.slice(-2)); // [2] ( 끝에서 2번째 index 부터의  배열)
    ```


### 4. Array.concat()
  - 배열 병합한 값 반환
  - **원본 데이터 변화 없음**
  - `Array.concat(arg1,arg2,...)`
  ```javascript
  let f = [1,2,3];
  console.log(f.concat( 4 ));   // [1,2,3,4]
  console.log(f.concat( [4,5,6] ));   // [1,2,3,4,5,6]
  console.log(f.concat( [4,5,6], 7 ));   // [1,2,3,4,5,6,7]
  ```


### 배열 활용 반복문
  - for ... of  : 배열의 값 순환
    ```javascript
    let f = ['a','b','c'];

    for (let v of f){ console.log(v); }
    // a
    // b
    // c
    ```
  
  - for ... in : 배열의 key인 index 순환
    ```javascript
    let f = ['a','b','c'];

    for (let k in f){ console.log(k); }
    // 0
    // 1
    // 2
    ```


### 배열 탐색
  - 찾는 값 없으면 -1 반환
  - index 탐색(앞->뒤) : `Array.indexOf(item,from)`
  - index 탐색(뒤->앞) : `Array.lastIndexOf(item,from)`
  - 값 포함 여부 확인 : `Array.includes(item, from)`
  ```javascript
  let f = ['a','b','c','b'];

  // Array.indexOf()
  console.log(f.indexOf('b'));         // 1
  console.log(f.indexOf('B'));         // -1 (없음. 대소문자 구분O)
  console.log(f.indexOf('b',2));       // 3 (index 2부터 찾음)

  // Array.lastIndexOf()
  console.log(f.lastIndexOf('b'));      // 3
  console.log(f.lastIndexOf('b', -2));  // 1 (뒤에서 앞으로)
  console.log(f.lastIndexOf('b', 0));   // -1 (lastIndexOf는 0이 마지막)
  
  // Array.includes()
  console.log(f.includes('b'));   // true
  console.log(f.includes('B'));   // false  (대소문자 구분O)
  console.log(f.includes(0));     // false
  ```


### 배열 변형
  - 정렬
    - 원본 변경
    - 유니코드 코드 포인트를 따라 정렬된다.
      - [1, '1', 100, 5, 50, 'a', 'z']
      - 100이 5보다 앞선다.
      - 숫자 크기 정렬의 경우, sort(function(a,b))를 사용하는 것이 정확하다.
    - 내림차순 : `Array.sort()`
    - 오름차순 : `Array.reverse()` (현재 배열의 역순)

  - 변환
    - 배열 값을 문자열로 변환
    - `Array.join(separator)`
    ```javascript
    let f = ['a','b','c'];
    console.log(f.join());    // a,b,c    (separator의 default는 ',' 이다.)
    console.log(f.join(''));    // abc
    console.log(f.join('~'));    // a~b~c


    // 다시 나누는 법
    console.log('a~b~c'.split('~'));    //['a','b','c']   ('~'을 기준으로 나눠서 배열 반환)
    ```


---




## N차원 배열
  - 배열 내 배열이 존재하는 객체
  - 2/3차원 지도 정보, RGB를 저장하는 2차원 사진 파일 등을 표현할 때 활용 가능
  - ex. `[[1,2,3], [4,5,6], [7,8,9]]`



---


## 유사 배열
  - 배열처럼 보이지만 사실 key가 숫자이고 length 값을 가지고 있는 객체
  - **직접 배열 리터럴로 선언한 array만 배열이다.**
    ```javascript
    const texts = document.querySelectorAll('.text');
    console.log(texts);

    // {
    //  0:div.text,
    //  1:div.text,
    //  2:div.text,
    //  3:div.text,
    //  length:4
    //  __proto__: NodeList
    // }
    ```

  - `Array.isArray(유사배열)`은 false
  - `유사배열 instanceof Array` 은 false
  - **유사 배열은 배열 객체의 메서드를 사용할 수 없다.**

  - #### `유사배열 -> 배열` 변환
    1. call, apply, bind 활용
        ```javascript
        const nodes = document.querySelectorAll('div'); 
        // 유사배열 NodeList [div, div, div, div, div, ...]
        
        // Array의 forEach()를 가져와 유사배열 nodes를 담고, 요소마다 함수 실행
        Array.prototype.forEach.call(nodes, function(el){
          console.log(el);
        });

        [].forEach.call(els, function(el) {
          console.log(el);
        });

        ```
    2. Array.from()을 활용
        - `Array.from(arrayLike[, mapFn[, thisArg]])`
        - Array.from() 메서드는 유사 배열 객체(array-like object)나 반복 가능한 객체(iterable object)를 얕게 복사해 새로운 Array 객체를 만들어 반환한다.

        ```javascript
        console.log(Array.from('foo'));
        // Array ["f", "o", "o"]

        Array.from([1, 2, 3], x => x + x);
        // [2, 4, 6]

        const nodes = document.querySelectorAll('div'); 
        // 유사배열 NodeList [div, div, div, div, div, ...]

        Array.from(nodes).forEach(function(el) { 
          console.log(el)
        });
        // [반환배열].forEach() 실행

        Array.from(nodes, function(el){console.log(el)});
        // 새 배열에 대한 map(콜백 함수) 실행 + 새 배열 반환
        ```
