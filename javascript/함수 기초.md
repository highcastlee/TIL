
# 함수
  - 다수의 명령문을 코드 블록으로 감싸고, 하나의 실행 단위로 만든 코드의 집합
  - 매개 변수는 최대 3개를 넘지 않도록 정의하는 것이 좋다.
  - return 발생 시, 함수 종료

## 함수 정의
  1. 함수 선언식
  ```javascript
  function add (arg1,arg2,...argN){
    expression;
  }

  add(10,20);
  ```

  2. 함수 표현식
  ```javascript
  const add = function (arg1, arg2, ...argN){
    expression;
  }

  add(10,20);
  ```

  3. 화살표 함수
  ```javascript
  const add = (arg1, arg2, ...argN) => expression; // return expression;
  // or
  const add = (arg1, arg2, ...argN) => {
    expression;
  }
  
  
  add(10,20);
  ```

## 함수 호출 
  - 자바스크립트의 함수는 매개변수와 인수의 개수가 일치하는지 확인하지 않음
  - ES6부터 매개변수에 초기화 지정 가능
  ```javascript
  function add(x,y){
    return x+y;
  }

  add(10)     // NaN
  add(10,20)  // 30



  // default value
  function add(x,y=10){
    return x+y;
  }
  add(20)    // 20+10 -> 30
  add(20,30) // 20+30 -> 50
  ```
  - 동적 매개변수 사용
  ```javascript
  function add(){
    return arguments[0]+arguments[1];
  }

  add(10,20)    // 30
  add(10,20,30) // 30
  ```



## 재귀 함수 (recursive)
  - 함수 스스로 자신을 참조해 호출하며 동일한 코드가 계속 수행되는 함수 호출 방법
  - 특정 조건이 됐을 때 자신을 그만 호출하도록 제한하는 exit code가 필요하다.
  - 함수가 호출될 때마다 call stack에 쌓이기 때문에, 너무 많은 재귀가 발생하지 않도록 주의한다.

  ```javascript
  function factorial(x){
    if (x===0) return 1;
    else return x * factorial(x-1);
  }

  let result = factorial(3)
  // call stack
  //factorial(0)   return 1
  //factorial(1)   return 1
  //factorial(2)   return 2
  //factorial(3)   return 6
  ```


## 콜백 함수 (callback)
  - 명시적으로 호출하는 함수가 아니라, 어떤 이벤트가 발생했거나 특정 시점에 도달했을 때 시스템에서 호출하는 함수
  - 일반적 함수와 동일하며, 호출 방식에 의해 구분된다.
  - 대표적 예시
  ```javascript
  function newCallback(){
    console.log('callback 호출');
  }
  setTimeout(newCallback, 1000)
  // setTimeout 호출하고 1초 뒤에 newCallback 콜백함수 호출함
  ```


>javascript는 일반적으로 함수가 호출되면, 먼저 Call Stack(호출 스택)에 함수가 추가된 후 실행된다.
>콜백 함수는 먼저 Callback Queue에 저장되는데, setTimeout(newCallback,0)으로 실행해도 callstack에 담긴 일반 함수가 다 실행되고 나서 실행된다. 추가로, callback queue에 저장되고 call stack으로 나오는 시간도 일부 걸리기 때문에 0초로 설정해도 약간의 시간이 걸린다.
>
> 자세한 내용은 javascript 동작 원리에 대한 글에서 정리할 것이다.



### call by value
  - 값에 의한 복사
  - 함수 내에서 매개 변수 값을 변경시켜도 영향이 미치지 않음
  - 원시 타입을 매개 변수로 넘겼을 때 발생
  
  ```javascript
  let a = 1;
  let add = function (b) { b = b + 1; };  //callee
  add(a); //caller
  console.log(a); // 1
  ```

### call by reference
  - 주소에 대한 복사
  - 함수 내에서 매개 변수 내 값을 변경시키면 원본 데이터에도 영향을 받음
  - 객체 타입을 매개 변수로 넘겼을 때 발생

  ```javascript
  let a = { v:1 };
  let add = function (b) { b.v = b.v + 1; };  //callee
  add(a); //caller
  console.log(a.v); // 2
  ```


