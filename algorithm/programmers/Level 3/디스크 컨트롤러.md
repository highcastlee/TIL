# 디스크 컨트롤러
 - [디스크 컨트롤러](https://programmers.co.kr/learn/courses/30/lessons/42627)


### 풀이
  - 우선순위 큐 (Heap)
  - 시작이 time 이하인 heap 배열 내에 작업 시간이 짧은 순으로 우선 작업
  - time을 하나씩 증가할 필요 없이 time-start+length로 바로 계산 가능하다.

  - 요청-종료 시간의 평균 반환


  ```javascript
  function solution(jobs) {
      let answer = 0;
      let time = 0;
      let heap = [];
      jobs.sort((a,b)=>a[0]-b[0]);
      let candidate = [...jobs];
      while(candidate.length || heap.length){
          while(candidate[0] && candidate[0][0] <= time){
              heap.push(candidate.shift());
          }
          if(heap.length){
              heap.sort((a,b)=>a[1]-b[1]);
              const [start, length] = heap.shift();
              answer += time-start+length;
              time+=length;
          }else{
              time++;
          }
      }

      return Math.floor(answer/jobs.length);
  }
  ```