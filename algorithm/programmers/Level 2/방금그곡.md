
# 방금 그 곡
  - [방금 그 곡](https://programmers.co.kr/learn/courses/30/lessons/17683)



### 풀이
  - m과 악보를 #글자 중복 없도록 한 글자로 치환
  - 음악 플레이 시간을 분 단위로 계산
  - (플레이/악보길이)의 몫 올림 값만큼 코드 반복 생성 후 플레이 길이까지 자르기
  - 위 코드에 m이 포함되었으면 resultInfos에 [음악 제목,플레이 시간] 추가
  - 플레이 시간 내림차순 정렬 후 처음 값의 음악 제목 출력

```javascript
function formatTime(timeString) {
    const [hour, minute] = timeString.split(':').map(Number)
    return hour*60 + minute
}

function replaceSharp(str) {
    const keys = {'C#':'V','D#':'W','F#':'X','G#':'Y','A#':'Z'}
    return str.replace(/[A-G]\#/g, (match)=>keys[match])
}

function solution(m, musicinfos) {
    const replacedM = replaceSharp(m)
    const resultInfos = musicinfos.reduce((result,info)=>{
        let [start, end, title, code]= info.split(',')
        code = replaceSharp(code)
        let playTime = formatTime(end)-formatTime(start)
        return (code.repeat(Math.ceil(playTime/code.length)).slice(0,playTime).includes(replacedM))
            ? [...result, [title, playTime]]
            : result
    }, [])
    return resultInfos.length === 0
        ? "(None)"
        : resultInfos.sort((info1,info2)=>info2[1]-info1[1])[0][0]
}
```