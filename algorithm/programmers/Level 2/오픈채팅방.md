
# 오픈채팅방

## 구현
  - [오픈채팅방](https://programmers.co.kr/learn/courses/30/lessons/42888)

  <img src="https://user-images.githubusercontent.com/62092665/138083519-7fe71804-82f6-4836-bf50-081c49ddcb31.png">

  <img src="https://user-images.githubusercontent.com/62092665/138083599-f0c1b0d5-71dc-474c-b27b-1402575256e3.png">

  <img src="https://user-images.githubusercontent.com/62092665/138083634-620ffa71-6dfb-4944-9fc9-7cee889a7cda.png">

### 내 풀이
  - 문자열을 역할에 따라 분할
  - uid를 hash key로 고정하여 닉네임 변경 시, value 덮어쓰기

```javascript
function solution(record) {
    let answer = [];
    let commands = [];
    let hash = {};
    record.forEach(str=>{
        let arr = str.split(' ')
        if(arr[0] !== "Leave") hash[arr[1]] = arr[2];
        if(arr[0] !== "Change") commands.push([arr[0], arr[1]])
    })
    for (let command of commands){
        if (command[0]==="Enter") answer.push(`${hash[command[1]]}님이 들어왔습니다.`)
        else answer.push(`${hash[command[1]]}님이 나갔습니다.`)
    }
    
    return answer;
}
```


### 다른 풀이
  - 구현 방법의 차이가 있을 뿐 큰 차이는 없다.

```javascript
function solution(record) {
    const userInfo = {};
    const action = [];
    const stateMapping = {
        'Enter': '님이 들어왔습니다.',
        'Leave': '님이 나갔습니다.'
    }

    record.forEach((v) => {
        const [state, id, nick] = v.split(' ');

        if(state !== "Change") {
            action.push([state, id]);
        }

        if(nick) {
            userInfo[id] = nick;
        }
    })

    return action.map(([state, uid]) => {
        return `${userInfo[uid]}${stateMapping[state]}`;    
    })
}  
```