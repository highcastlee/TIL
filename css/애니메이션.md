
# 애니메이션

## transition과의 차이
  - transition은 특정 행위가 발생할 때, A <-> B 사이의 스타일 변화라면,
    animation은 다수의 스타일에 대한 전환이다.

<img src="https://miro.medium.com/max/352/1*LG_IrvLZD-xa7RM3gGULKQ.gif" alt="keyframes">

### @keyframes
  - 애니메이션의 중간중간 특정 지점들을 거칠 수 있는 키프레임을 설정
  ```css

  .box{
    ...
    /* 2초 동안 slidein 라는 이름의 keyframes 규칙의 애니메이션을 무한 반복 */
    animation: slidein 2s infinite;
  }

  @keyframes slidein{
    /* animation 발생 시간 내 비율 */
    0% { top: 0; left: 0; }
    30% { top: 50px; }
    68%, 72% { left: 50px; }
    100% { top: 100px; left: 100%; }
  }

  /* or */

  @keyframes slidein {
    /* 처음 ~ 끝 */
    from {
      margin-left: 100%;
      width: 300%;
    }
    to {
      margin-left: 0%;
      width: 100%;
    }
  }
  ```


### animation-name
  - 애니메이션 규칙을 나타내는 keyframes name
  - 이름 규칙 : a-z, 0-9, '-', '_' 만 가능하다.
  - 이름을 이미 정의 되어있는 속성 값인 none, initial, inherit, revert, unset 등으로 설정해서는 안 된다.
  ```css
  animation-name: slidein

  @keyframes slidein{
    ...
  }
  ```


### animation-duration
  - 애니메이션이 한 사이클을 완료하는데 걸리는 시간
  - 0 이상의 값을 가진다.
  ```css

  animation-duration: 3s

  ```

### animation-delay
  - 애니메이션이 시작될 시점을 지정한다.
  - 음수 값을 지정하면, 애니메이션이 즉시 시작되지만, 애니메이션 동작 시퀀스의 n초부터 시작된다.


### animation-timing-function
  - cubic-bezier(n,n,n,n)을 미리 설정한 키워드 값
  ```css
  animation-timing-function: ease;
  animation-timing-function: ease-in;
  animation-timing-function: ease-out;
  animation-timing-function: ease-in-out;
  animation-timing-function: linear;
  animation-timing-function: step-start;
  animation-timing-function: step-end;

  /* Function values */
  animation-timing-function: cubic-bezier(0.1, 0.7, 1.0, 0.1);
  animation-timing-function: steps(4, end);
  ```

### 예제
  - 각 box별로 0.3초씩 차이나게 애니메이션 적용됨
  ```css
    div{
      ...
      animation: my-first-animation 1s infinite;
    }
    .box1{
      animation-delay: -0.3s;
    }
    .box2{
      animation-delay: 0s;
    }
    .box3{
      animation-delay: 0.3s;
    }
  ```


### animation-interation-count
  - 애니메이션 재생 횟수 설정
  - `infinite` : 무한 반복
  - `<number>` : 횟수 설정
  ```css
  animation-iteration-count : 2;
  animation-iteration-count : 1.5; // 한 번 진행 + 절반 진행 후 원상태 복귀
  ```


### animation-direction
<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=http%3A%2F%2Fcfile27.uf.tistory.com%2Fimage%2F99932C345C83B91426EB1F">

  - 애니메이션은 진행 방향을 설정할 수 있다.
  - normal : 정방향 재생
  - reverse : 역방향 재생
  - alternate : 사이클마다 주기의 방향을 뒤집어 정방향, 역방향, 정방향, 역방향... 재생
  - alternate-reverse : alternate를 역방향 먼저 실행
  ```css
  animation-interation-count: infinite;
  animation-direction: alternate
  ```




### animation-play-state
  - 애니메이션의 재생 상태를 설정하는 속성
    - paused (일시 정지) 기능이 필요할 때 사용한다.
  - running(기본 값) : 재생 상태
  - paused : 일시 정지 상태

### animation-fill-mode
  - 애니메이션 적용 전후의 스타일을 설정하는 속성
  - none
    - 애니메이션이 실행되지 않을 때, 대상에 keyframes 내 스타일을 적용하지 않는다.
  - forwards
    - 실행 된 애니메이션의 마지막 keyframe에 의해 설정된 값을 유지
  - backwards
    - keyframe이 실행되기 전에 0% 나 from의 스타일을 미리 적용
  - both
    - forwards와 backwards 모두 적용
  
<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=http%3A%2F%2Fcfile6.uf.tistory.com%2Fimage%2F9918243C5C83BBFD280887">

  ```css

  div{
	  width: 50px;
	  height: 50px;
	  background: black;
	  animation-name: fill-mode;
	  animation-duration: 3s;
	  animation-delay: 3s;
  }
  div .none {
  	animation-fill-mode:none;
  }
  div .forwards {
  	animation-fill-mode:forwards;
  }
  div .backwards {
  	animation-fill-mode:backwards;
  }
  div .both {
  	animation-fill-mode:both;
  }
  @keyframes fill-mode{
	  0% {
	  	background: red;
	  }
	  100% {
	  	background: orange;
	  }
  }

  /* 원래 스타일 순서 */
  /*
    시작) 기존 .box 스타일
    2) keyframes from 스타일
    3) 50% 스타일
    4) to 스타일
    끝) 기존 .box 스타일
  */

  /* animation-fill-mode : forwards 적용 시, 순서*/
  /*
    시작) 기존 .box 스타일
    2) keyframes from 스타일
    3) 50% 스타일
    끝) to 스타일 (마지막 유지)
  */

   /* animation-fill-mode : backwards 적용 시, 순서*/
  /*
    시작) keyframes from 스타일 (from에서 시작)
    2) 50% 스타일
    3) to 스타일
    끝) 기존 .box 스타일
  */ 

   /* animation-fill-mode : both 적용 시, 순서*/
  /*
    시작) keyframes from 스타일 (from에서 시작)
    2) 50% 스타일
    끝) to 스타일 (마지막 유지)
  */ 

  ```


### animation
  - 단축 속성
  - `animation-name`, `animation-duration`, `animation-timing-function`, `animation-delay`, `animation-iteration-count`, `animation-direction`, `animation-fill-mode`, and `animation-play-state`.
  - 순서는 상관 없으나, 시간을 표현하는 속성은 duration이 delay보다 우선이다.

  - 초기 값 (initial)
    > animation-name: none
    > animation-duration: 0s
    > animation-timing-function: ease
    > animation-delay: 0s
    > animation-iteration-count: 1
    > animation-direction: normal
    > animation-fill-mode: none
    > animation-play-state: running
  
  ```css
  div{
    /* @keyframes duration | easing-function | delay |
    iteration-count | direction | fill-mode | play-state | name */
    animation: 3s ease-in 1s 2 reverse both paused slidein;

    /* @keyframes name | duration | easing-function | delay */
    animation: slidein 3s linear 1s;

    /* @keyframes name | duration */
    animation: slidein 3s;
  }

  @keyframes slidein{
    ...
  }

  ```